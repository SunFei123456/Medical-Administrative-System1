import{y as x,b as A,z as P,A as H,E as J,c as u,o as b,k as $,w as n,f as e,d as z,F,B as N,g as _,x as X,i as j,r as D,C as K,D as Q,e as S,G as W,h as Y,H as T}from"./index-c04e0510.js";import{s as Z}from"./addData-499d0411.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{g as ee}from"./getData-16012ea8.js";import{r as te}from"./RemoveData-bd4d19ab.js";const le=x({components:{},props:{},setup(){const t=A({formData:{input35972:"",input83201:"",number89762:18,radio44615:2,select35484:4,input88738:"",input17899:""},rules:{input35972:[{required:!0,message:"字段值不可为空"}],input83201:[{required:!0,message:"字段值不可为空"}],radio44615:[{required:!0,message:"字段值不可为空"}],select35484:[{required:!0,message:"字段值不可为空"}],input88738:[{required:!0,message:"字段值不可为空"}],input17899:[{required:!0,message:"字段值不可为空"}]},radio44615Options:[{label:"男",value:"男"},{label:"女",value:"女"}],select35484Options:[{label:"计算机技术学院",value:"计算机技术学院"},{label:"艺术设计学院",value:"艺术设计学院"},{label:"建筑工程学院",value:"建筑工程学院"},{label:"经济管理学院",value:"经济管理学院"}]}),l=P(),s=()=>{let i={stu_ID:23,stu_StuID:t.formData.input35972.toString(),stu_Name:t.formData.input83201.toString(),stu_IdNum:t.formData.input88738.toString(),stu_Gender:t.formData.radio44615.toString(),stu_Age:t.formData.number89762.toString(),stu_Phone:t.formData.input17899.toString(),stu_Collage:t.formData.select35484.toString()};Z("http://39.98.244.18/api/Manager/Stu_Add",i,function(){console.log("ok")}),J({title:"Success",message:"数据发送成功",position:"bottom-right",type:"success",showClose:!1}),l.proxy.$refs.vForm.validate(f=>{})},c=()=>{l.proxy.$refs.vForm.resetFields()};return{...H(t),submitForm:s,resetForm:c}}});function ae(t,l,s,c,i,f){const g=u("el-input"),d=u("el-form-item"),k=u("el-input-number"),y=u("el-radio"),v=u("el-radio-group"),I=u("el-option"),q=u("el-select"),V=u("el-button"),w=u("el-form");return b(),$(w,{model:t.formData,ref:"vForm",rules:t.rules,"label-position":"left","label-width":"100px",size:"default",onSubmit:l[9]||(l[9]=j(()=>{},["prevent"]))},{default:n(()=>[e(d,{label:"学生学号",prop:"input35972",class:"required label-right-align"},{default:n(()=>[e(g,{modelValue:t.formData.input35972,"onUpdate:modelValue":l[0]||(l[0]=o=>t.formData.input35972=o),type:"text",placeholder:"请输入11位学生学号",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"学生姓名",prop:"input83201",class:"required label-right-align"},{default:n(()=>[e(g,{modelValue:t.formData.input83201,"onUpdate:modelValue":l[1]||(l[1]=o=>t.formData.input83201=o),type:"text",placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"年龄",prop:"number89762",class:"label-right-align"},{default:n(()=>[e(k,{modelValue:t.formData.number89762,"onUpdate:modelValue":l[2]||(l[2]=o=>t.formData.number89762=o),class:"full-width-input","controls-position":"right",min:-9999,max:9999,precision:0,step:1},null,8,["modelValue"])]),_:1}),e(d,{label:"性别",prop:"radio44615",class:"required label-right-align"},{default:n(()=>[e(v,{modelValue:t.formData.radio44615,"onUpdate:modelValue":l[3]||(l[3]=o=>t.formData.radio44615=o)},{default:n(()=>[(b(!0),z(F,null,N(t.radio44615Options,(o,a)=>(b(),$(y,{key:a,label:o.value,disabled:o.disabled,border:"",style:{"{\n              display":"inline"}},{default:n(()=>[_(X(o.label),1)]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"所在院系",prop:"select35484",class:"required label-right-align"},{default:n(()=>[e(q,{modelValue:t.formData.select35484,"onUpdate:modelValue":l[4]||(l[4]=o=>t.formData.select35484=o),class:"full-width-input",clearable:""},{default:n(()=>[(b(!0),z(F,null,N(t.select35484Options,(o,a)=>(b(),$(I,{key:a,label:o.label,value:o.value,disabled:o.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"身份证号码",prop:"input88738",class:"required label-center-align"},{default:n(()=>[e(g,{modelValue:t.formData.input88738,"onUpdate:modelValue":l[5]||(l[5]=o=>t.formData.input88738=o),type:"text",placeholder:"请输入18位身份证号码",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"手机号码",prop:"input17899",class:"required label-right-align"},{default:n(()=>[e(g,{modelValue:t.formData.input17899,"onUpdate:modelValue":l[6]||(l[6]=o=>t.formData.input17899=o),type:"text",clearable:"",placeholder:"请输入11位手机号码"},null,8,["modelValue"])]),_:1}),e(V,{type:"primary",plain:"",onClick:l[7]||(l[7]=o=>t.submitForm())},{default:n(()=>[_("提交表单")]),_:1}),e(V,{type:"danger",onClick:l[8]||(l[8]=o=>t.resetForm())},{default:n(()=>[_("重置表单")]),_:1})]),_:1},8,["model","rules"])}const oe=U(le,[["render",ae],["__scopeId","data-v-9fa814d5"]]);function C(t,l){const s=new XMLHttpRequest;s.open("GET",`http://39.98.244.18/api/Manager/GetStu_Info?page=${t}`,!0),s.onload=function(){if(this.status===200){const c=JSON.parse(this.responseText);l(c)}else console.error("请求失败")},s.onerror=function(){console.error("请求出错")},s.send()}const ne={class:"header"},se={class:"left"},ue={class:"right"},re={class:"demo-pagination-block"},ie={__name:"studentsList",setup(t){const l=D([]),s=D(!1),c=D(0),i=D(0),f=a=>{l.value=a};ee("Stu_Count",function(a,r){a?console.error(a):c.value=Number(r)}),s.value=!0,setTimeout(()=>{s.value=!1,C(1,f)},800);const g=()=>{s.value=!0,setTimeout(()=>{s.value=!1,C(i.value,f),T({message:"数据完成刷新.",grouping:!0,type:"success"})},800)},d=a=>{s.value=!0,i.value=a,setTimeout(()=>{s.value=!1,C(a,f)},800),console.log(`${a} items per page`)},k=a=>{s.value=!0,i.value=a,setTimeout(()=>{s.value=!1,C(a,f)},800),console.log(`current page: ${a}`)},y=D(!1),v=D(""),I=K(()=>l.value.filter(a=>!v.value||a.stu_Name.toLowerCase().includes(v.value.toLowerCase()))),q=(a,r)=>{console.log(a,r)};let V;const w=(a,r)=>{console.log(a,r.stu_StuID),V=r.stu_StuID,console.log(V),te(`http://39.98.244.18/api/Manager/Stu_Remove?Stu_ID=${r.stu_StuID}`),T({message:"已删除.",grouping:!0,type:"success"}),g()},o=a=>(console.log(i.value),i.value==2&&(a=(i.value-1)*10+1),a);return(a,r)=>{const h=u("el-button"),p=u("el-table-column"),L=u("el-input"),M=u("el-table"),E=u("el-pagination"),G=u("el-card"),R=u("el-dialog"),B=Q("loading");return b(),z(F,null,[e(G,{class:"guest-container"},{header:n(()=>[S("div",ne,[S("div",se,[e(h,{onClick:r[0]||(r[0]=m=>y.value=!0),icon:"Plus",type:"primary",size:"default"},{default:n(()=>[_(" 添加 ")]),_:1}),e(h,{type:"danger",size:"default"},{default:n(()=>[_("禁用账户")]),_:1})]),S("div",ue,[e(h,{onClick:g,icon:"RefreshRight",type:"primary",size:"default",plain:!0},{default:n(()=>[_(" 刷新数据 ")]),_:1})])])]),default:n(()=>[W((b(),$(M,{style:{width:"100%"},data:Y(I),border:"",size:"default"},{default:n(()=>[e(p,{label:"序号",type:"index",index:o}),e(p,{label:"姓名",prop:"stu_Name"}),e(p,{label:"性别",prop:"stu_Gender"}),e(p,{label:"年龄",prop:"stu_Age"}),e(p,{label:"学号",prop:"stu_StuID"}),e(p,{label:"身份证号码",prop:"stu_IdNum"}),e(p,{label:"院系",prop:"stu_Collage"}),e(p,{label:"手机号",prop:"stu_Phone"}),e(p,{align:"right"},{header:n(()=>[e(L,{modelValue:v.value,"onUpdate:modelValue":r[1]||(r[1]=m=>v.value=m),size:"large",placeholder:"Type to search"},null,8,["modelValue"])]),default:n(m=>[e(h,{size:"small",onClick:O=>q(m.$index,m.row),type:"primary"},{default:n(()=>[_("修改")]),_:2},1032,["onClick"]),e(h,{size:"small",type:"danger",onClick:O=>w(m.$index,m.row)},{default:n(()=>[_("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,s.value]]),S("div",re,[e(E,{background:"",layout:"total, prev, pager, next",total:c.value,class:"mt-10",onSizeChange:d,onCurrentChange:k,"deprecated-warn":"false"},null,8,["total"])])]),_:1}),e(R,{modelValue:y.value,"onUpdate:modelValue":r[2]||(r[2]=m=>y.value=m),title:"学习信息填写"},{default:n(()=>[e(oe)]),_:1},8,["modelValue"])],64)}}},fe=U(ie,[["__scopeId","data-v-3f770d7b"]]);export{fe as default};
