import{a as S,b as x,c as w,o as D,d as k,e as o,f as l,w as c,g as p,G as u,N as g,h as s,p as V,j as T,H as P}from"./index-c04e0510.js";import{s as U}from"./addData-499d0411.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const B=d=>(V("data-v-04bd7e73"),d=d(),T(),d),O={class:"outside"},E={class:"inside"},M=B(()=>o("br",null,null,-1)),W={class:"ipts"},j={class:"ipts"},z={class:"tips"},A={class:"warning"},G={class:"warning2"},H={class:"btn"},J={__name:"ChangePwd",setup(d){const b=new S;let e=x({old_Pwd:"",new_Pwd:"",againNew_Pwd:""});const v=/[a-z]/g,I=/[A-Z]/g;let r,i;document.querySelector("button");const y=localStorage.getItem("ID"),m=JSON.parse(y);console.log(m);function C(){r=document.querySelector(".warning"),i=document.querySelector(".warning2"),e.new_Pwd.length>=8&&e.new_Pwd.length<=18?(r.style.color="green",e.new_Pwd.match(v)||e.new_Pwd.match(I)?i.style.color="green":i.style.color="#b0b3bf"):r.style.color="#b0b3bf"}let h=()=>{if(console.log(e),e.new_Pwd.length===0||e.old_Pwd.length===0||e.againNew_Pwd.length===0){P.error("请填写后提交");return}else if(e.new_Pwd!==e.againNew_Pwd)P.error("两次密码不一致");else{let a={doc_ID:m.toString(),old_Pwd:e.old_Pwd.toString(),new_Pwd:e.new_Pwd.toString()};U("http://39.98.244.18/api/Common/Doc_PwdUpdate",a,function(n){console.log(n)}),P.success("密码修改成功, 请重新登录"),b.push("/login")}};return(a,n)=>{const N=w("WindPower"),_=w("el-icon"),f=w("CircleCheck");return D(),k("div",O,[o("div",E,[o("span",null,[l(_,{class:"ion"},{default:c(()=>[l(N)]),_:1}),p(" 设置新密码")]),M,o("div",W,[o("form",j,[u(o("input",{type:"password","onUpdate:modelValue":n[0]||(n[0]=t=>s(e).old_Pwd=t),name:"old_Pwd",autocomplete:"on",placeholder:"请输入旧密码",onInput:n[1]||(n[1]=(...t)=>a.onInput&&a.onInput(...t))},null,544),[[g,s(e).old_Pwd]]),u(o("input",{type:"password","onUpdate:modelValue":n[2]||(n[2]=t=>s(e).new_Pwd=t),name:"new_Pwd",autocomplete:"on",placeholder:"请输入新密码",onInput:C},null,544),[[g,s(e).new_Pwd]]),u(o("input",{type:"password","onUpdate:modelValue":n[3]||(n[3]=t=>s(e).againNew_Pwd=t),name:"againNew_Pwd",autocomplete:"on",placeholder:"请再次输入新密码"},null,512),[[g,s(e).againNew_Pwd]])])]),o("div",z,[o("span",A,[l(_,null,{default:c(()=>[l(f)]),_:1}),p(" 密码由8-16位数字、字母或符号组成 ")]),o("span",G,[l(_,null,{default:c(()=>[l(f)]),_:1}),p(" 至少含2种以上字符 ")])]),o("div",H,[o("button",{onClick:n[4]||(n[4]=(...t)=>s(h)&&s(h)(...t))},"确认修改")])])])}}},F=q(J,[["__scopeId","data-v-04bd7e73"]]);export{F as default};
