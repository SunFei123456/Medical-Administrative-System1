import{b as R,z as U,c as r,o as x,k as S,w as l,f as e,g as _,i as L,r as y,C as B,D as G,d as M,F as E,e as h,G as P,p as Q,j as Z}from"./index-c04e0510.js";import{s as O}from"./addData-499d0411.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const j={__name:"addDiagReport",setup(c){const t=R({formData:{StuID:"",med_ID:"",med_Name:"",med_Num:0,sick_Desc:""},rules:{StuID:[{required:!0,message:"字段值不可为空"},{pattern:/^[-]?\d+(\.\d+)?$/,trigger:["blur","change"],message:""}],med_ID:[{required:!0,message:"字段值不可为空"}],med_Name:[{required:!0,message:"字段值不可为空"}],med_Num:[{required:!0,message:"字段值不可为空"}],sick_Desc:[{required:!0,message:"字段值不可为空"}]}}),d=U(),i=()=>{d.proxy.$refs.vForm.validate(f=>{f&&O("http://39.98.244.18/api/Manager/AddDiagReport",{stu_StuID:t.formData.StuID.toString(),med_List:[{med_ID:t.formData.med_ID.toString(),med_Name:t.formData.med_Name.toString(),med_Num:t.formData.med_Num.toString()}],sick_Desc:t.formData.sick_Desc.toString()},function(){console.log("ok")})})},u=()=>{d.proxy.$refs.vForm.resetFields()};return(f,a)=>{const b=r("el-input"),g=r("el-form-item"),V=r("el-input-number"),v=r("el-button"),I=r("el-form");return x(),S(I,{model:t.formData,ref:"vForm",rules:t.rules,"label-position":"left","label-width":"100px",size:"large",onSubmit:a[7]||(a[7]=L(()=>{},["prevent"]))},{default:l(()=>[e(g,{label:"学生学号",prop:"StuID",class:"required label-right-align"},{default:l(()=>[e(b,{modelValue:t.formData.StuID,"onUpdate:modelValue":a[0]||(a[0]=s=>t.formData.StuID=s),size:"large",type:"text",placeholder:"请输入11位学生学号",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"药品编号",prop:"med_ID",class:"required label-right-align"},{default:l(()=>[e(b,{modelValue:t.formData.med_ID,"onUpdate:modelValue":a[1]||(a[1]=s=>t.formData.med_ID=s),size:"large",type:"text",placeholder:"请输入药品编号",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"药品名称",prop:"med_Name",class:"required label-right-align"},{default:l(()=>[e(b,{modelValue:t.formData.med_Name,"onUpdate:modelValue":a[2]||(a[2]=s=>t.formData.med_Name=s),type:"text",placeholder:"请输入药品名称",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"药品数量",prop:"med-Num",class:"required label-right-align"},{default:l(()=>[e(V,{modelValue:t.formData.med_Num,"onUpdate:modelValue":a[3]||(a[3]=s=>t.formData.med_Num=s),class:"full-width-input","controls-position":"right",min:-1e11,max:1e11,precision:0,step:1},null,8,["modelValue"])]),_:1}),e(g,{label:"病情介绍",prop:"sick_Desc",class:"required label-right-align"},{default:l(()=>[e(b,{type:"textarea",modelValue:t.formData.sick_Desc,"onUpdate:modelValue":a[4]||(a[4]=s=>t.formData.sick_Desc=s),placeholder:"请输入病情介绍",rows:"4"},null,8,["modelValue"])]),_:1}),e(v,{type:"primary",plain:"",onClick:a[5]||(a[5]=s=>i())},{default:l(()=>[_("提交表单")]),_:1}),e(v,{type:"danger",onClick:a[6]||(a[6]=s=>u())},{default:l(()=>[_("重置表单")]),_:1})]),_:1},8,["model","rules"])}}},A=$(j,[["__scopeId","data-v-183c5cad"]]);function C(c,t){const d=new XMLHttpRequest;d.open("GET",`http://39.98.244.18/api/Manager/GetOrder?page=${c}`,!0),d.onload=function(){if(this.status===200){const i=JSON.parse(this.responseText);t(i)}else console.error("请求失败")},d.onerror=function(){console.error("请求出错")},d.send()}const H=c=>(Q("data-v-f4eb3b78"),c=c(),Z(),c),J={class:"header"},X={class:"left"},K={class:"right"},W=H(()=>h("span",null," 确定要取消嘛 ",-1)),Y={class:"dialog-footer"},ee={class:"demo-pagination-block"},te={__name:"Questionnaire",setup(c){const t=y(!1),d=y(!0),i=y([]),u=y(!1),f=n=>{i.value=n};u.value=!0,setTimeout(()=>{u.value=!1,C(1,f)},800);const a=()=>{u.value=!0,setTimeout(()=>{u.value=!1,C(1,f)},1500)},b=n=>{i.value=null,u.value=!0,setTimeout(()=>{u.value=!1,C(n,f)},500),console.log(`${n} items per page`)},g=n=>{i.value=null,u.value=!0,setTimeout(()=>{u.value=!1,C(n,f)},500),console.log(`current page: ${n}`)},V=y(!1),v=y("");B(()=>i.filter(n=>!v.value||n.name.toLowerCase().includes(v.value.toLowerCase())));const I=(n,o)=>{console.log(n,o)},s=(n,o)=>{t.value=!0,console.log(n,o)};return(n,o)=>{const D=r("el-button"),m=r("el-table-column"),w=r("el-input"),N=r("el-dialog"),q=r("el-table"),z=r("el-pagination"),T=r("el-card"),F=G("loading");return x(),M(E,null,[e(T,{class:"guest-container"},{header:l(()=>[h("div",J,[h("div",X,[e(D,{onClick:o[0]||(o[0]=p=>V.value=!0),icon:"Plus",type:"primary"},{default:l(()=>[_(" 添加问诊数据 ")]),_:1}),e(D,{type:"danger"},{default:l(()=>[_("禁用账户")]),_:1})]),h("div",K,[e(D,{onClick:a,icon:"RefreshRight",type:"primary"},{default:l(()=>[_(" 刷新数据 ")]),_:1})])])]),default:l(()=>[P((x(),S(q,{style:{width:"100%"},data:i.value,border:"",size:"default"},{default:l(()=>[e(m,{label:"ID",prop:"dia_Id"}),e(m,{label:"时间",prop:"add_Time"}),e(m,{label:"学号",prop:"stu_StuID"}),e(m,{label:"姓名",prop:"stu_Name"}),e(m,{label:"手机号",prop:"stu_Phone"}),e(m,{label:"院系",prop:"stu_Collage"}),e(m,{label:"花费",prop:"cost"}),e(m,{label:"主治医生",prop:"doc_Name"}),e(m,{align:"right"},{header:l(()=>[e(w,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=p=>v.value=p),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),default:l(p=>[e(D,{size:"small",onClick:k=>I(p.$index,p.row),type:"primary"},{default:l(()=>[_("修改")]),_:2},1032,["onClick"]),e(D,{size:"small",type:"danger",onClick:k=>s(p.$index,p.row)},{default:l(()=>[_("删除")]),_:2},1032,["onClick"]),e(N,{"append-to-body":d.value,modelValue:t.value,"onUpdate:modelValue":o[4]||(o[4]=k=>t.value=k),title:"Notice",width:"30%","destroy-on-close":"",center:""},{footer:l(()=>[h("span",Y,[e(D,{onClick:o[2]||(o[2]=k=>t.value=!1)},{default:l(()=>[_("取消")]),_:1}),e(D,{type:"primary",onClick:o[3]||(o[3]=k=>t.value=!1)},{default:l(()=>[_(" 确定 ")]),_:1})])]),default:l(()=>[W]),_:1},8,["append-to-body","modelValue"])]),_:1})]),_:1},8,["data"])),[[F,u.value]]),h("div",ee,[e(z,{small:"",background:"",layout:"prev, pager, next",total:50,class:"mt-10",onSizeChange:b,onCurrentChange:g})])]),_:1}),e(N,{modelValue:V.value,"onUpdate:modelValue":o[5]||(o[5]=p=>V.value=p),title:"学习信息填写"},{default:l(()=>[e(A)]),_:1},8,["modelValue"])],64)}}},ne=$(te,[["__scopeId","data-v-f4eb3b78"]]);export{ne as default};
